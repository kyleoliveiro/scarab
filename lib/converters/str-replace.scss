/// Replace text within on a string
///
/// @author Kyle Oliveiro
///
/// @access public
/// @group converters
///
/// @param {string} $haystack - String to search in
/// @param {string} $needle - Substring to search for
/// @param {string} $replacement [''] - Replacement string
/// @return {string}
///
/// @example
///   $string: 'Beetle';
///   $string: str-replace($string, 'e');      // Btl
///
///   $string: 'Beetle';
///   $string: str-replace($string, 'e', '3'); // B33tl3

@function str-replace($haystack, $needle, $replacement: '') {
	@if $replacement == null {
		$replacement: '';
	}
	
	$index: str-index($haystack, $needle);
	@if $index {
		@return str-slice($haystack, 1, $index - 1) + $replacement + str-replace(str-slice($haystack, $index + str-length($needle)), $needle, $replacement);
	}

	@return $haystack;
}
